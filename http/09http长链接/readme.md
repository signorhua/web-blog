### tcp链接

    1.http是基于tcp连接的，tcp请求又有长链接和短链接
    2.http请求的时候要先创建一个tcp连接，在tcp的链接上面把http的内容发送并且接收完返回
    3.tcp上http可以发送多个请求，http1.1只能一个接一个发送，http2可以并发

### 短连接

    http请求接受完毕之后，浏览器和服务端商量要不要关闭掉
        短连接：关闭tcp连接，好处：减少服务器和客户端连接的并发数
                            坏处：每次重新连接的时候，有需要三次握手连接

### 长连接

    不关闭tcp连接
        好处：之后还有这个服务器的请求，还可以在这个tcp链接上发送，那么就不需要经过三次握手连接的消耗
        坏处：一直保持连接，会有消耗
                    可以设置过期时间来优化timeOut，在一定的时间里面没有http请求，那么它就自动关闭。

        

#### 长连接开启与关闭

        浏览器是希望开启长连接的，会发送给服务端，看服务端是否允许开启

        关闭长连接
        Connection: 'close'

        在服务端关闭之后，在response Headers 里面会看到 

        chrome中有个netWork中有Connection ID 可以看到每个http请求用的tcp连接唯一值

### 补充

    1.实际情况中，网站的并发量是比较大的，如果你每次都要重新去创建一个链接，就会导致创建的次数过多，而实际可能导致比保持长连接开销更大更高
    2.在http1.1中tcp连接上的http请求还是有先后顺序的，就是说你不可以并发的发送http请求，在这个tcp连接上只能一个按着一个，加载一个首页的时候，我们希望他加载的速度快一点，我们希望他并发，这个时候浏览器可以允许你产生并发
    多个tcp连接，chrome最大开启6个连接，再对这6个tcp连接进行复用，不同浏览器不一样
    3.在http2中，一个tcp可以开启并发多个http，一个网站一个域名只需要一个tcp连接，开销极低
