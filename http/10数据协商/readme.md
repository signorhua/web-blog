### 数据协商
    
    什么叫数据协商

        客户端发送给服务端一个请求的时候，客户端会声明我希望拿到的数据格式，以及数据相关的一些限制，服务端会根据它的一些请求的头信息，到底要返回怎么样一个数据

        有时候，同一个 URL 可以提供多份不同的文档，这就要求服务端和客户端之间有一个选择最合适版本的机制，这就是数据内容协商

    分类中分为请求和返回

#### 请求
    Accept：告知服务器发送何种媒体类型
    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8
    q这里是代表权重，权重越希望返回的数据格式

    Accept-Encoding: 告知服务器采用何种压缩方式
    Accept-Language: 告知服务器发送何种语言，中国展示中文，返回中文还是英文
    Uset-Agent：浏览器的信息

#### 返回
    Content
    Content-Type: 返回的数据格式
    Content-Encoding: 返回的编码格式
    Content-Language
    Content-Length: 是一个实体消息首部，用来指明发送给接收方的消息主体的大小，即用十进制数字表示的八位元组的数目
    
#### 补充 
    在chromeDevtools中netWork中，每个请求都有个size列，上下两个值，上面的是整个包，包含头信息，下面是主要内容，实际内容大小
    这个size值和Encoding压缩，编码格式有关,上面的值会随着压缩模式的变化而变化，下面实际的值不会变化，解压之后的实际内容不会变

#### Vary

    有时候， Accept 字段并不够用，例如要针对特定浏览器如 IE6 输出不一样的内容，就需要用到请求头中的 User-Agent 字段。类似的，请求头中的 Cookie 也可能被服务端用做输出差异化内容的依据。
    
    由于客户端和服务端之间可能存在一个或多个中间实体（如缓存服务器）,而缓存服务最基本的要求是给用户返回正确的文档。如果服务端根据不同 User-Agent 返回不同内容，而缓存服务器把 IE6 用户的响应缓存下来，并返回给使用其他浏览器的用户，肯定会出问题 。


    所以 HTTP 协议规定，如果服务端提供的内容取决于 User-Agent 这样「常规 Accept 协商字段之外」的请求头字段，那么响应头中必须包含 Vary 字段，且 Vary 的内容必须包含 User-Agent。同理，如果服务端同时使用请求头中 User-Agent 和 Cookie 这两个字段来生成内容，那么响应中的 Vary 字段看上去应该是这样的：
        Vary: User-Agent, Cookie

